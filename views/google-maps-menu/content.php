<p>在 Google Maps 上顯示選單，主要是使用 <a href='https://developers.google.com/maps/documentation/javascript/events?hl=zh-tw' target='_blank'>Google Maps JavaScript Events</a> 來實作，並且搭配 <a href='https://developers.google.com/maps/documentation/javascript/markers' target='_blank'>Marker</a>、<a href='https://developers.google.com/maps/documentation/javascript/examples/polyline-simple?hl=zh-tw' target='_blank'>Polyline</a> 來繪製出路線圖，並且針對 Marker 綁定 Event 來實作 <b>刪除節點</b> 的功能。</p>
<p>此實作中有一項特別的技巧，就是在 Ployline 上點擊滑鼠右鍵時，必須要可以 <b>插入節點</b> 的功能，難點是在於 Maps 上的 <a href='https://developers.google.com/maps/documentation/javascript/examples/control-positioning?hl=zh-tw' target='_blank'>Google Maps Position</a> 與 <a href='https://developers.google.com/maps/documentation/javascript/examples/icon-complex' target='_blank'>Google Maps Point</a> 物件的 <a href='https://github.com/comdan66/OA-googleMapsMenu/blob/master/js/public.js#L51' target='_blank'>轉換</a>，必須將點擊位置的經緯度經計算後得知在地圖元素上相對應的 left、top 數值，再將選單顯示在該位置上。</p>
<p>因為要針對不同區段的 Polyline 監聽 Event，所以必須使用特別的方式去畫出 Polyline，目前我所使用的方法是將 Markers 之間用單個 Polyline 做連接，所以地圖上 Polyline 的數量會是 Marker 的 n-1 個，如此一來就可以對每段 Polyline 監聽 Event 了！</p>
<p>當插入節點時，便可以取出該 Polyline 是位於哪兩個 Markers 之間，這時候再針對陣列去做橋接，重組後的 Markers 陣列再重新繪製一次 Polyline 即可！</p>